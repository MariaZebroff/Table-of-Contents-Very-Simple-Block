(()=>{"use strict";var e={143:(e,t,n)=>{n.d(t,{A:()=>l});var r=n(601),o=n.n(r),a=n(314),c=n.n(a)()(o());c.push([e.id,".wp-block-toc-block-wrapper {\n    display: flex;\n    flex-direction: column;\n    justify-content: flex-start;\n    align-items: flex-start;\n}\n.toc-toggle-button {\n    border: none;\n    background-color: transparent;\n    -webkit-text-decoration: underline;\n    text-decoration: underline;\n    color: #2271b1;\n    cursor: pointer;\n}\n\n.margintoc {\nmargin-left: 20px;\n}\n\n.no-markers {\n    list-style-type: none;\n}",""]);const l=c},314:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,r,o,a){"string"==typeof e&&(e=[[null,e,void 0]]);var c={};if(r)for(var l=0;l<this.length;l++){var i=this[l][0];null!=i&&(c[i]=!0)}for(var u=0;u<e.length;u++){var s=[].concat(e[u]);r&&c[s[0]]||(void 0!==a&&(void 0===s[5]||(s[1]="@layer".concat(s[5].length>0?" ".concat(s[5]):""," {").concat(s[1],"}")),s[5]=a),n&&(s[2]?(s[1]="@media ".concat(s[2]," {").concat(s[1],"}"),s[2]=n):s[2]=n),o&&(s[4]?(s[1]="@supports (".concat(s[4],") {").concat(s[1],"}"),s[4]=o):s[4]="".concat(o)),t.push(s))}},t}},601:e=>{e.exports=function(e){return e[1]}},72:e=>{var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var a={},c=[],l=0;l<e.length;l++){var i=e[l],u=r.base?i[0]+r.base:i[0],s=a[u]||0,f="".concat(u," ").concat(s);a[u]=s+1;var p=n(f),d={css:i[1],media:i[2],sourceMap:i[3],supports:i[4],layer:i[5]};if(-1!==p)t[p].references++,t[p].updater(d);else{var m=o(d,r);r.byIndex=l,t.splice(l,0,{identifier:f,updater:m,references:1})}c.push(f)}return c}function o(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,o){var a=r(e=e||[],o=o||{});return function(e){e=e||[];for(var c=0;c<a.length;c++){var l=n(a[c]);t[l].references--}for(var i=r(e,o),u=0;u<a.length;u++){var s=n(a[u]);0===t[s].references&&(t[s].updater(),t.splice(s,1))}a=i}}},659:e=>{var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},540:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},56:(e,t,n)=>{e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},825:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var o=void 0!==n.layer;o&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,o&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var a=n.sourceMap;a&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},113:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var a=t[r]={id:r,exports:{}};return e[r](a,a.exports,n),a.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.nc=void 0;const r=window.wp.blocks,o=window.wp.element,a=window.wp.data,c=window.wp.components,l=window.wp.i18n,i=window.wp.blockEditor,u=window.React;var s=n(72),f=n.n(s),p=n(825),d=n.n(p),m=n(659),b=n.n(m),g=n(56),v=n.n(g),y=n(540),h=n.n(y),w=n(113),k=n.n(w),C=n(143),S={};function E(e){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E(e)}function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){O(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function O(e,t,n){return(t=function(e){var t=function(e){if("object"!=E(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=E(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==E(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}S.styleTagTransform=k(),S.setAttributes=v(),S.insert=b().bind(null,"head"),S.domAPI=d(),S.insertStyleElement=h(),f()(C.A,S),C.A&&C.A.locals&&C.A.locals;var R=function(e){var t,n,r=(t=(0,u.useState)(!1),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,c,l=[],i=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;i=!1}else for(;!(i=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);i=!0);}catch(e){u=!0,o=e}finally{try{if(!i&&null!=n.return&&(c=n.return(),Object(c)!==c))return}finally{if(u)throw o}}return l}}(t,n)||function(e,t){if(e){if("string"==typeof e)return A(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?A(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=r[0],a=r[1],c=e.attributes,i=c.headings,s=c.showNumbers,f=c.collapsible,p=c.textAlign,d=c.color,m=c.backgroundColor,b=c.fontSize;function g(e){return e.replace(/(?<!\d)\.+/g,"")}console.log(d),console.log(m);var v=s?function(e){var t=[];return e.map((function(e){var n=parseInt(e.level[1]);t[n-1]=(t[n-1]||0)+1;for(var r=n;r<t.length;r++)t[r]=0;var o=t.slice(0,n).join(".");return g(o),x(x({},e),{},{nestedNumber:o})}))}(i):i;return React.createElement("div",{className:"wp-block-toc-block-wrapper",style:{background:m,color:d,fontSize:b+"px"}},React.createElement("div",{style:{alignSelf:p}},f&&React.createElement("button",{style:{color:d},className:"toc-toggle-button margintoc",onClick:function(){return a((function(e){return!e}))}},o?(0,l.__)("Show TOC","toc-block"):(0,l.__)("Hide TOC","toc-block")),!o&&i.length>0?React.createElement(React.Fragment,null,React.createElement("h3",{className:"margintoc"},"Table of Contents"),React.createElement("ul",{className:s?"no-markers":""},v.map((function(e,t){return React.createElement("li",{key:t,style:{marginLeft:"".concat(20*(parseInt(e.level[1])-1),"px")}},s&&"".concat(g(e.nestedNumber),". "),React.createElement("a",{style:{color:d},href:"#".concat(e.id),onClick:function(t){return function(e,t){e.preventDefault();var n=document.getElementById(t);n&&n.scrollIntoView({behavior:"smooth",block:"start"})}(t,e.id)}},e.text))})))):!o&&React.createElement("p",null,(0,l.__)("No headings found. Add some headings to your content!","toc-block"))))};(0,r.registerBlockType)("toc/block",{title:(0,l.__)("Table of Contents","toc-block"),icon:"list-view",category:"common",supports:{anchor:!0,reusable:!0,html:!1},attributes:{headings:{type:"array",default:[]},showNumbers:{type:"boolean",default:!1},collapsible:{type:"boolean",default:!1},textAlign:{type:"string",default:"start"},backgroundColor:{type:"string",default:"#ffffff"},color:{type:"string",default:"#000000"},fontSize:{type:"number",default:16}},edit:function(e){var t=e.attributes,n=e.setAttributes,r=(t.headings,t.showNumbers),u=t.collapsible,s=(t.isCollapsed,t.color),f=t.backgroundColor,p=t.fontSize,d=(0,i.useBlockProps)(),m=(0,a.useSelect)((function(e){var t;return(null===(t=e("core/editor"))||void 0===t?void 0:t.getEditedPostContent())||""}));(0,o.useEffect)((function(){if(m){var e=(new DOMParser).parseFromString(m,"text/html").querySelectorAll("h1, h2, h3, h4, h5, h6"),t=Array.from(e).map((function(e,t){return{level:e.tagName.toLowerCase(),text:e.innerText,id:e.id||e.innerText.toLowerCase().replace(/\s+/g,"-")}}));n({headings:t})}}),[m]);var b=[{name:(0,l.__)("Small"),slug:"small",size:12},{name:(0,l.__)("Medium"),slug:"medium",size:16},{name:(0,l.__)("Large"),slug:"large",size:26}];return React.createElement("div",d,React.createElement(i.BlockControls,null,React.createElement(c.ToolbarGroup,null,React.createElement(c.ToolbarButton,{title:(0,l.__)("Align Left","toc-block"),icon:"editor-alignleft",label:(0,l.__)("Align Left","toc-block"),onClick:function(){return n({textAlign:"start"})}}),React.createElement(c.ToolbarButton,{title:(0,l.__)("Align Center","toc-block"),icon:"editor-aligncenter",label:(0,l.__)("Align Center","toc-block"),onClick:function(){return n({textAlign:"center"})}}),React.createElement(c.ToolbarButton,{title:(0,l.__)("Align Right","toc-block"),icon:"editor-alignright",label:(0,l.__)("Align Right","toc-block"),onClick:function(){return n({textAlign:"end"})}}))),React.createElement(i.InspectorControls,null,React.createElement(c.PanelBody,{title:(0,l.__)("Settings","toc-block")},React.createElement(c.ToggleControl,{label:(0,l.__)("Show Numbers","toc-block"),checked:r,onChange:function(){return n({showNumbers:!r})}}),React.createElement(c.ToggleControl,{label:(0,l.__)("Enable Collapsible TOC","toc-block"),checked:u,onChange:function(){return n({collapsible:!u})}})),React.createElement(c.PanelBody,null,React.createElement(c.FontSizePicker,{fontSizes:b,value:p,onChange:function(e){n({fontSize:e})}})),React.createElement(i.PanelColorSettings,{title:(0,l.__)("Color Settings","toc-block"),icon:"admin-appearance",initialOpen:!0,colorSettings:[{value:f,onChange:function(e){n({backgroundColor:e})},label:(0,l.__)("Background Color","toc-block")},{value:s,onChange:function(e){n({color:e})},label:(0,l.__)("Text Color","toc-block")}]})),React.createElement(R,{attributes:t}))},save:function(e){var t=e.attributes,n=i.useBlockProps.save(),r=t;return console.log("attr",r),React.createElement("div",n,React.createElement("div",{className:"data-div","data-attributes":JSON.stringify(r)},"TOC BLOCK"))}}),console.log("TEST")})();